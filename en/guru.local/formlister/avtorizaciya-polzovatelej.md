
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<h2>FormLister: Авторизация пользователей</h2>

<p>Контроллер <span class="text-bold">Login</span> позволяет авторизировать пользователей как по имени, так и по email. Кроме этого, можно дополнительно использовать плагин userHelper, который ведет учет количества логинов и времени последнего логина, а также реализует автологин и выход из учетной записи.</p>
<h2 class="page-header">Параметры контроллера</h2>
<h3 class="sub-header text-bold">model</h3>
<p>Класс для работы с пользователями.</p>
<p>Возможные значения - имя класса.</p>
<p>Значение по умолчанию - \modUsers</p>
<h3 class="sub-header text-bold">modelPath</h3>
<p>Путь к файлу класса для работы с пользователями.</p>
<p>Возможные значения - относительный путь к файлу.</p>
<p>Значение по умолчанию - assets/lib/MODxAPI/modUsers.php</p>
<h3 class="sub-header text-bold">loginField</h3>
<p>Поле, содержащее имя пользователя.</p>
<p>Возможные значения - имя поля.</p>
<p>Значение по умолчанию - username.</p>
<h3 class="sub-header text-bold">passwordField</h3>
<p>Поле, содержащее пароль пользователя.</p>
<p>Возможные значения - имя поля.</p>
<p>Значение по умолчанию - password.</p>
<h3 class="sub-header text-bold">rememberField</h3>
<p>Поле для запоминания пользователя. Если значение поля приводится к true, то при успешной авторизации будет установлена кука с параметрами автологина. Имя куки и ее время жизни задаются параметрами cookieName и cookieLifetime.</p>
<p>Можно также задать поле rememberme в параметре defaults, чтобы запоминание происходило без участия пользователя:</p>
<pre class="brush: html;">&amp;defaults=`{"rememberme":1}`</pre>
<p>Возможные значения - имя поля.</p>
<p>Значение по умолчанию - rememberme.</p>
<h3 class="sub-header text-bold">checkActivation</h3>
<p>Включает проверку активации учетной записи пользователя (см. "Активация учетных записей"). </p>
<p>Возможные значения - 0 или 1.</p>
<p>Значение по умолчанию - 1.</p>
<h3 class="sub-header text-bold">context</h3>
<p>Контекст авторизации.</p>
<p>Возможные значения - mgr или web.</p>
<p>Значение по умолчанию - web.</p>
<h3 class="sub-header text-bold">cookieName</h3>
<p>Имя куки для хранения параметров автологина.</p>
<p>Значение по умолчанию - WebLoginPE.</p>
<h3 class="sub-header text-bold">cookieLifetime</h3>
<p>Время жизни вышеуказанной куки.</p>
<p>Возможные значения - число секунд с момента последнего логина.</p>
<p>Значение по умолчанию - 157680000 (5 лет).</p>
<h3 class="sub-header text-bold">redirectTo</h3>
<p>Перенаправляет пользователя на страницу c указанным id после авторизации.</p>
<p>Возможные значения - id целевой страницы или массив.</p>
<p>Значение по умолчанию - пусто.</p>
<h3 class="sub-header text-bold">exitTo</h3>
<p>Перенаправляет уже авторизованного пользователя на указанную страницу.</p>
<p>Возможные значения - id целевой страницы или массив.</p>
<p>Значение по умолчанию - пусто.</p>
<h3 class="sub-header text-bold">successTpl</h3>
<p>Шаблон сообщения об успешной авторизации. В шаблоне можно использовать данные пользователя.</p>
<p>Возможные значения - имя шаблона, указанное по правилам задания шаблонов в DocLister.</p>
<p>Значение по умолчанию - запись из лексикона Login с ключом [+login.default_successTpl+]</p>
<h3 class="sub-header text-bold">skipTpl</h3>
<p>Шаблон сообщения о том, что пользователь уже авторизован.</p>
<p>Возможные значения - имя шаблона, указанное по правилам задания шаблонов в DocLister.</p>
<p>Значение по умолчанию - запись из лексикона Login с ключом [+login.default_skipTpl+]</p>
<h2 class="page-header">Параметры плагина userHelper</h2>
<h3 class="sub-header text-bold">logoutKey</h3>
<p>Имя GET-параметра для запуска выхода из учетной записи. Если в ссылке на страницу сайта указан параметр с соответствующим именем (например, <a href="http://sitename.ru/page.html?logout">http://sitename.ru/page.html?logout</a>), будет произведен выход из учетной записи.</p>
<p>Значение по умолчанию - logout.</p>
<h3 class="sub-header text-bold">cookieName</h3>
<p>Имя куки для хранения параметров автологина.</p>
<p>Значение по умолчанию - WebLoginPE.</p>
<h3 class="sub-header text-bold">cookieLifetime</h3>
<p>Время жизни вышеуказанной куки.</p>
<p>Возможные значения - число секунд с момента последнего логина.</p>
<p>Значение по умолчанию - 157680000 (5 лет).</p>