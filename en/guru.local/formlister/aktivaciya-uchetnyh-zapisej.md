
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<h2>FormLister: Активация учетных записей</h2>

<p>Контроллер <span class="text-bold">Activate</span> реализует активацию учетных записей. Таким образом появляется возможность требовать у пользователя подтверждение учетной записи путем перехода по специальной ссылке из письма, отправленного при регистрации.</p>
<p>Если по какой-то причине пользователь не получил письмо, то c помощью контроллера Activate он может запросить его повторную отправку.</p>
<p>Учетная запись пользователя считается неактивированной если в поле logincount записано -1.</p>
<p>В вызовах сниппета для регистрации и авторизации пользователей должен присутствовать параметр <code>&amp;checkActivation=1</code>.</p>
<p>Поэтому если при регистрации пользователь указывал пароль самостоятельно, то нужно запрашивать пароль для отправки письма со ссылкой для активации. Иначе будет генерироваться новый пароль, потому что раз пользователь запрашивает письмо для активации вручную, значит письмо после регистрации он не получил и не знает созданный при регистрации пароль.</p>
<p>В шаблонах доступны все поля модели для обрабатываемой записи. В шаблоне reportTpl задается поле user.password с незашифрованным паролем и поле activate.url со ссылкой для активации. </p>
<h2 class="page-header">Параметры</h2>
<h3 class="sub-header text-bold">model</h3>
<p>Класс для работы с пользователями.</p>
<p>Возможные значения - имя класса.</p>
<p>Значение по умолчанию - \modUsers</p>
<h3 class="sub-header text-bold">modelPath</h3>
<p>Путь к файлу класса для работы с пользователями.</p>
<p>Возможные значения - относительный путь к файлу.</p>
<p>Значение по умолчанию - assets/lib/MODxAPI/modUsers.php</p>
<h3 class="sub-header text-bold">redirectTo</h3>
<p>Перенаправляет пользователя на указанную страницу после активации.</p>
<p>Возможные значения - id целевой страницы или массив.</p>
<p>Значение по умолчанию - пусто.</p>
<h3 class="sub-header text-bold">exitTo</h3>
<p>Перенаправляет авторизованного пользователя на указанную страницу.</p>
<p>Возможные значения - id целевой страницы или массив.</p>
<p>Значение по умолчанию - пусто.</p>
<h3 class="sub-header text-bold">skipTpl</h3>
<p>Шаблон сообщения для авторизованного пользователя.</p>
<p>Возможные значения - имя шаблона, указанное по правилам задания шаблонов в DocLister.</p>
<p>Значение по умолчанию - запись из лексикона Register с ключом [+register.default_skipTpl+]</p>
<h3 class="sub-header text-bold">reportTpl</h3>
<p>Шаблон письма с информацией для активации учетной записи.</p>
<p>Возможные значения - имя шаблона, указанное по правилам задания шаблонов в DocLister.</p>
<p>Значение по умолчанию - пусто.</p>
<h3 class="sub-header text-bold">reportTpl</h3>
<p>Шаблон письма с информацией для активации учетной записи.</p>
<p>Возможные значения - имя шаблона, указанное по правилам задания шаблонов в DocLister.</p>
<p>Значение по умолчанию - пусто.</p>
<h3 class="sub-header text-bold">successTpl</h3>
<p>Шаблон сообщения об успешной отправке письма с данными для активации. </p>
<p>Возможные значения - имя шаблона, указанное по правилам задания шаблонов в DocLister.</p>
<p>Значение по умолчанию - запись из лексикона Activate с ключом [+activate.default_successTpl+]</p>
<h3 class="sub-header text-bold">activateSuccessTpl</h3>
<p>Шаблон сообщения об успешной активации. </p>
<p>Возможные значения - имя шаблона, указанное по правилам задания шаблонов в DocLister.</p>
<p>Значение по умолчанию - запись из лексикона Activate с ключом [+activate.default_activateSuccessTpl+]</p>
<h3 class="sub-header text-bold">passwordLength</h3>
<p>Длина создаваемого пароля.</p>
<p>Возможные значения - число символов больше 6.</p>
<p>Значение по умолчанию - 6.</p>