##Общие параметры

Эти параметры обрабатываются базовым классом FormLister. В контроллерах некоторые общие параметры могут иметь другое назначение.

###controller
Задает класс для обработки данных. 

Возможные значения - имя php-файла без расширения.

Значение по умолчанию - Form.

###dir
Папка в которой находится класс контроллера.

Значение по умолчанию - assets/snippets/FormLister/core/controller/

###formid
Имя формы, обязательный параметр.

В шаблоне формы обязательно должно быть скрытое поле с именем formid и значением, указанным в параметре.

###config
Загрузка параметров в формате json из файла.

Возможные значения - имяфайла:папка, несколько значений разделяются точкой с запятой.

Пример: myparams:core - загрузить параметры из файла myparams.json в папке core. Папка core находится в папке config, расположенной в папке с контроллером.

Значение по умолчанию - пусто.

###api
Определяет, в каком виде будут выводиться данные.

Возможные значения:

- 0: только заполненные данными шаблоны;
- 1: json-массив с данными формы;
- 2: json-массив с данными формы и заполненным шаблоном.

###allowedFields
Разрешенные для обработки поля. Поля, не указанные в списке, игнорируются. Поле formid и поля внешних источников всегда разрешены для обработки.

Если не задано, то разрешены все поля.

Возможные значения - имена полей формы, разделенные запятой. 

Значение по умолчанию - пусто.

###forbiddenFields
Запрещенные для обработки поля. Поля, указанные в списке, игнорируются. 

Возможные значения - имена полей формы, разделенные запятой. 

Значение по умолчанию - пусто.

###defaultsSources
Позволяет загружать дополнительные данные для обработки из внешних источников. По умолчанию внешние данные загружаются только при начальном выводе формы и не загружаются, когда на обработку отправлены значения полей формы. Это поведение может быть изменено с помощью параметра keepDefaults.

На практике этот параметр можно использовать для предварительного заполнения полей формы.

Возможные значения: список источников, разделенных точкой с запятой. Загрузка данных производится в том порядке, в котором они указаны в списке. Данные из внешних источников всегда разрешены для обработки.

Источник может задаваться в формате имя:ключ. Если источник является массивом, то будут загружены значения ключа этого массива.

Возможные значения:

- array: json или php-массив, значения задаются параметром defaults;
- session: значения загружаются из массива $_SESSION;
- plh: значения загружаются из массива $modx->placeholders;
- config: загружаются значения параметров сниппета;
- cookie: загружаются значения массива $_COOKIE;
- имя класса MODxAPI: ключ является значением метода edit(), класс должен быть заранее загружен.

Значение по умолчанию: array.

###defaults
Данные для источника array.

Возможные значения: массив значений по умолчанию, в формате json или php.

###keepDefaults
Позволяет загружать данные из внешних источников при обработке значений полей формы.

Возможные значения: 1 - да, 0 - нет.

Значение по умолчанию - 0.

###usePrefix
Добавляет имя внешнего источника к имени поля. Например, "config.site_name".

Возможные значения: 1 - да, 0 - нет.

Значение по умолчанию - 0.

###saveObject
Сохраняет объект класса FormLister в плейсхолдер, который можно использовать в других сниппетах. Объект сохраняется только при успешной обработке формы.

Возможные значения - имя плейсхолдера.

Значение по умолчанию - пусто.

###validator
Имя класса для валидации данных. Класс должен быть предварительно загружен.

Значение по умолчанию: \FormLister\Validator.

###rules
Массив с правилами валидации.

Значение по умолчанию: пусто.

###arraySplitter

Разделитель для преобразования массивов в строку. 

Значение по умолчанию - точка с запятой.

###{field}Splitter
Разделитель для преобразования массивов в строку, но для отдельного поля {field}. Например: groupsSplitter - разделитель для массива из поля groups.

Если не задано, то используется значение параметра arraySplitter.

###errorTpl
Шаблон для вывода сообщений валидатора.

Возможные значения - имя шаблона, указанное по правилам задания шаблонов в DocLister.

Значение по умолчанию:
```
@CODE:<div class="error">[+message+]</div>
```

###requiredClass, errorClass
Имена классов для обозначения незаполненных (required) и неверно заполенных (error) полей.

Значение по умолчанию - required и error соответственно.

###{field}.requiredClass, {field}.errorClass
Позволяет задавать указанные выше классы для конкретных полей.

По умолчанию используются значения параметров requiredClass и errorClass.

###formControls
Список полей с управляющими элементами формы (списки, чекбоксы, радио-кнопки). Необходимо для отслеживания состояния элементов.

Возможные значения - имена полей, разделенные запятой.

Значение по умолчанию - пусто.

###messagesTpl
Шаблон сообщений обработчика формы. В шаблоне выводятся группы сообщений (messages, required, error).

Возможные значения - имя шаблона, указанное по правилам задания шаблонов в DocLister.

Значение по умолчанию:
```
@CODE:<div class="form-messages">[+messages+]</div>
```

###messagesOuterTpl
Шаблон-обертка для группы произвольных сообщений.

Возможные значения - имя шаблона, указанное по правилам задания шаблонов в DocLister.

Значение по умолчанию:
```
@CODE: [+messages+]
```

###messagesRequiredOuterTpl
Шаблон-обертка для группы сообщений о незаполненных полях.

Возможные значения - имя шаблона, указанное по правилам задания шаблонов в DocLister.

Значение по умолчанию:
```
@CODE: [+messages+]
```

###messagesErrorOuterTpl
Шаблон-обертка для группы сообщений о неверно заполненных полях.

Возможные значения - имя шаблона, указанное по правилам задания шаблонов в DocLister.

Значение по умолчанию:
```
@CODE: [+messages+]
```

###messagesSplitter, messagesRequiredSplitter, messagesErrorSplitter
Разделитель сообщений в группе.

Возможные значения - произвольная строка.

Значение по умолчанию:
```
<br>
```

###captcha
Имя класса генератора капчи. Если не задано, то капча не используется.

Возможные значения - modxCaptcha.

Значение по умолчанию - пусто.

###captchaField
Имя поля со значением капчи. Для поля автоматически создается правило валидации.

Значение по умолчанию - vericode.

###captcha
Имя поля с кодом капчи.

Значение по умолчанию - captcha.

###prepare
Аналогично параметру prepare в DocLister.

Значение по умолчанию - пусто.

###redirectTo
Id страницы, на которую нужно выполнить перенаправление после успешной обработки формы. В api-режиме перенаправление не выполняется, но в массиве данных формы сохраняется абсолютная ссылка на целевую страницу (поле "redirectTo").

Возможные значения - число.

Значение по умолчанию - пусто.

###formTpl
Шаблон формы. В шаблоне формы обязательно должно быть поле с именем formid и значением, указанным в параметре formid.

Возможные значения - имя шаблона, указанное по правилам задания шаблонов в DocLister.

Значение по умолчанию - пусто.