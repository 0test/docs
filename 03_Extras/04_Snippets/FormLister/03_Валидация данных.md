##Валидация данных

При валидации данных валидатор последовательно применяет к значению поля заданные правила, при возникновении ошибки в массив данных об ошибках добавляется запись и дальнейшая обработка формы прекращается.

Валидация считается пройденной, если в массиве данных об ошибках отсутствуют записи. 

###Правила валидации
Список правил задается в виде массива. Ключом является имя поля, а значением - массив правил валидации. Правило валидации является методом класса-валидатора. В массиве правил ключом является имя правила (название метода валидации), значением может быть либо строка с сообщением об ошибке валидации правила, или же массив с описанием. В этом массиве в ключе params задаются необходимые для валидации значения, а в ключе message задается строка с сообщением об ошибке.

Можно также использовать отрицание правил, если добавить перед именем правила восклицательный знак: "!numeric" - поле пройдет валидацию, если его значение не является числом.

```
{
    "имя поля 1": {
        "правило 1" : "сообщение об ошибке",
        "правило 2" : "сообщение об ошибке"
    },
    "имя поля 2": {
        "правило 1" : "сообщение об ошибке",
        "правило 2" : {
            "params" : значение,
            "message" : "сообщение об ошибке"
        }
    }
}
```

Стандартным классом валидации (\FormLister\Validator) предусмотрены правила:

- required: поле заполнено;
- min: значение поля больше заданного или равно ему;
- max: значение поля меньше заданного или равно ему;
- greater: значение поля строго меньше заданного;
- less: значение поля строго больше заданного;
- between: значение поля входит в диапазон;
- equals: значение поля равно заданному;
- in: значение поля входит в заданный массив значений;
- alpha: значение поля содержит только буквы;
- numeric: значение поля содержит только цифры;
- alphaNumeric: значение поля содержит только буквы и цифры;
- slug: значение поля удовлетворяет регулярному выражению '/^[\pL\pN\-\_]++$/uD';
- decimal: значение поля является десятичным числом;
- phone: значение поля является номером телефона;
- matches: значение поля удовлетворяет регулярному выражению;
- url: значение поля является ссылкой;
- email: значение поля является email-адресом;
- length: длина значения поля равна заданному;
- minLength: длина значения поля больше заданного или равна ему;
- maxLength: длина значения поля меньше заданного или равна ему;
- lengthBetween: длина значения поля входит в диапазон;
- minSize: размер массива больше заданного;
- maxSize: размер массива меньше заданного;
- sizeBetween: размер массива входит в диапазон.

###Результаты валидации
Данные об ошибках хранятся в виде массива и могут быть получены вызовом метода getFormData('errors'):
```
{
    "имя поля 1": {
        "имя нарушенного правила" : "сообщение об ошибке"
    },
    "имя поля 2": {
        "имя нарушенного правила" : "сообщение об ошибке"
    }
}
```
Для добавления данных в этот массив используется метод addError(имя поля, имя правила, сообщение об ошибке). Таким образом, можно влиять на итоговый результат валидации, вручную добавляя записи в этот массив.

В шаблонах результаты валидации для каждого поля выводятся с помощью плейсхолдера [+имя поля.error+]. Общий результат может быть выведен в плейсхолдер [+form.messages+], который задается шаблоном messagesTpl. В свою очередь, в этом шаблоне можно использовать плейсхолдеры: 

- [+required+] - сообщения о незаполенных полях;
- [+filters+] - сообщения о неверно заполненных полях.